(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{24:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var s,n=c(8),o=c.n(n),r=c(3),a=c(16),d=c(13),l=c(5),i=c(10),u=c(15);!function(e){e.AddTodos="addTodos",e.AddUser="addUsers",e.SetUserId="setUserId"}(s||(s={}));var j,b={todos:[],selectedUserId:0,user:null},O=Object(i.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.AddTodos:return Object(l.a)(Object(l.a)({},e),{},{todos:[].concat(Object(d.a)(e.todos),Object(d.a)(t.payload))});case s.SetUserId:return Object(l.a)(Object(l.a)({},e),{},{selectedUserId:t.payload});case s.AddUser:return Object(l.a)(Object(l.a)({},e),{},{user:t.payload});default:return e}}),Object(u.composeWithDevTools)()),h=O,p=c(0),m=c.n(p),f=(c(24),c(4)),x=function(e){return fetch("".concat("https://mate.academy/students-api").concat(e)).then((function(e){return e.json()}))},v=function(e){return{type:s.SetUserId,payload:e}},_=function(e){return e.todos},C=function(e){return e.selectedUserId},N=function(e){return e.user},U=c(12),y=c.n(U),A=c(1),T=m.a.memo((function(e){var t=e.title,c=e.completed,s=e.userId,n=Object(r.c)(C),o=Object(r.b)();return Object(A.jsxs)("li",{className:y()("TodoList__item",{"TodoList__item--unchecked":!c,"TodoList__item--checked":c}),children:[Object(A.jsxs)("label",{children:[Object(A.jsx)("input",{type:"checkbox",checked:c,readOnly:!0}),Object(A.jsx)("p",{children:t})]}),Object(A.jsx)("button",{type:"button",className:y()("TodoList__user-button","button",{"TodoList__user-button--selected":n===s}),onClick:function(){o(v(s))},children:"User #".concat(s)})]})}));c(26);!function(e){e[e.All=0]="All",e[e.Completed=1]="Completed",e[e.Active=2]="Active"}(j||(j={}));var L=m.a.memo((function(){var e=Object(r.b)(),t=Object(p.useState)(""),c=Object(f.a)(t,2),n=c[0],o=c[1],a=Object(p.useState)(j.All),d=Object(f.a)(a,2),l=d[0],i=d[1],u=Object(r.c)(_);Object(p.useEffect)((function(){x("/todos").then((function(t){return e((c=t,{type:s.AddTodos,payload:c}));var c}))}),[]);var b=Object(p.useMemo)((function(){return u.filter((function(e){var t=e.title,c=e.completed;switch(l){case j.All:return t.toLowerCase().includes(n.toLowerCase());case j.Active:return t.toLowerCase().includes(n.toLowerCase())&&!c;case j.Completed:return t.toLowerCase().includes(n.toLowerCase())&&c;default:return!1}}))}),[u,n,l]);return Object(A.jsxs)("div",{className:"TodoList",children:[Object(A.jsx)("h2",{children:"Todos:"}),Object(A.jsxs)("div",{className:"TodoList__control",children:[Object(A.jsx)("input",{type:"text",value:n,onChange:function(e){o(e.target.value)},placeholder:"Search Todo"}),Object(A.jsxs)("select",{value:l,onChange:function(e){i(Number(e.target.value))},children:[Object(A.jsx)("option",{value:j.All,children:"All"}),Object(A.jsx)("option",{value:j.Active,children:"Active"}),Object(A.jsx)("option",{value:j.Completed,children:"Completed"})]})]}),Object(A.jsx)("div",{className:"TodoList__list-container",children:Object(A.jsx)("ul",{className:"TodoList__list",children:b.map((function(e){return Object(A.jsx)(T,{userId:e.userId,title:e.title,completed:e.completed},e.id)}))})})]})})),I=(c(27),m.a.memo((function(){var e=Object(r.c)(N),t=Object(r.c)(C),c=Object(r.b)();return Object(p.useEffect)((function(){var e;(e=t,x("/users/".concat(e,"/"))).then((function(e){return c((t=e,{type:s.AddUser,payload:t}));var t}))}),[t]),e&&Object(A.jsxs)("div",{className:"CurrentUser",children:[Object(A.jsx)("h2",{className:"CurrentUser__title",children:Object(A.jsx)("span",{children:"Selected user: ".concat(e.id)})}),Object(A.jsx)("h3",{className:"CurrentUser__name",children:e.name}),Object(A.jsx)("p",{className:"CurrentUser__email",children:e.email}),Object(A.jsx)("p",{className:"CurrentUser__phone",children:e.phone}),Object(A.jsx)("button",{className:"CurrentUser__clear button",type:"button",onClick:function(){c(v(0))},children:"Clear"})]})}))),w=function(){var e=Object(r.c)(C);return Object(A.jsxs)("div",{className:"app",children:[Object(A.jsxs)("div",{className:"app__sidebar",children:[Object(A.jsx)("h1",{children:"Redux list of todos"}),Object(A.jsx)(L,{})]}),Object(A.jsx)("div",{className:"app__content",children:Object(A.jsx)("div",{className:"app__content-container",children:e?Object(A.jsx)(I,{}):"No user selected"})})]})},k=function(){return Object(A.jsx)(r.a,{store:h,children:Object(A.jsx)(a.a,{children:Object(A.jsx)(w,{})})})};o.a.render(Object(A.jsx)(k,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.f17d7d42.chunk.js.map